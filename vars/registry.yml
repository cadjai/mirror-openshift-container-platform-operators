---
# Ansible Playbook Run Variables
name_vendor: "RedHat"
ansible_name: " {{ name_vendor }} | Konductor | Infra Automation"
ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
openshift_client_binary: '/usr/bin/oc'
opm_binary: '/usr/bin/opm'
root_drive: '/data'
temp_dir: '{{ root_drive }}'
opm_binary_download_url: 'https://mirror.openshift.com/pub/openshift-v4/clients/ocp/latest/opm-linux.tar.gz'
opm_binary_downloaded_artifact: 'opm-linux.tar.gz'
install_opm: 'false'
grpcurl_binary: '/usr/bin/grpcurl'
grpcurl_binary_download_url: 'https://github.com/fullstorydev/grpcurl/releases/download/v1.8.1/grpcurl_1.8.1_linux_x86_64.tar.gz'
grpcurl_binary_downloaded_artifact: 'grpcurl_1.8.1_linux_x86_64.tar.gz'
pull_all: 'false'

registry_host_fqdn: '{{ vault_registry_host_fqdn }}'
registry_admin_username: '{{ vault_registry_admin_username }}'
registry_admin_password: '{{ vault_registry_admin_password }}'
registry_container_name: 'mirror-registry'
registry_container_image: 'docker.io/library/registry:2'
registry_container_dir: '{{ root_drive }}/registry'
operator_local_repository: 'openshift4/custom-operators'

operator_registries_to_mirror:
  redhat-operators:
    source: 'registry.redhat.io/redhat/redhat-operator-index:v4.7'
    container_port: '50051'
    host_port: 50051
    #kubevirt-hyperconverged,sriov-network-operator is beaking the mirroring
    #apicast-operator is break the mirroring 07102021
    mirrored_operator_list: "3scale-operator,advanced-cluster-management,amq-streams,businessautomation-operator,cluster-kube-descheduler-operator,cluster-logging,clusterresourceoverride,codeready-workspaces,compliance-operator,container-security-operator,costmanagement-metrics-operator,elasticsearch-operator,file-integrity-operator,jaeger-product,kiali-ossm,local-storage-operator,mtc-operator,nfd,ocs-operator,openshift-gitops-operator,openshift-jenkins-operator,openshift-pipelines-operator-rh,ptp-operator,rhsso-operator,serverless-operator,servicemeshoperator,web-terminal"
    mirror: "true"
  community-operators:
    source: 'registry.redhat.io/redhat/community-operator-index:v4.7'
    container_port: 50051
    host_port: 40051
    mirrored_operator_list: "group-sync-operator,keycloak-operator,koku-metrics-operator,konveyor-forklift-operator,konveyor-operator,namespace-configuration-operator,prometheus,prometheus-exporter-operator,splunk,argocd-operator,argocd-operator-helm"
    mirror: "true"
  market-operators:
    source: 'registry.redhat.io/redhat/redhat-marketplace-index:v4.7'
    container_port: 50051
    host_port: 30051
    mirrored_operator_list: ""
    mirror: "false"
  certified-operators:
    source: 'registry.redhat.io/redhat/certified-operator-index:v4.7'
    container_port: 50051
    host_port: 20051
    mirrored_operator_list: "anchore-engine,elasticsearch-eck-operator-certified,falco-certified,gitlab-operator,gitlab-runner-operator,gpu-operator-certified,nginx-ingress-operator,node-red-operator-certified,openshiftartifactoryha-operator,openshiftpipeline-operator,openshiftxray-operator,prisma-cloud-compute-console-operator.v2.0.1,redhat-marketplace-operator,rocketchat-operator-certified,splunk-certified"
    mirror: "false"

default_operator_registry: 'registry.redhat.io'
default_operator_registry_username: '{{ vault_default_operator_registry_username }}'
default_operator_registry_password: '{{ vault_default_operator_registry_password }}'

dir_bundle_location: "{{ root_drive }}/bundles"
bundle_file_name: 'operators-bundle.tar.xz'
bundle_file_location: "{{ root_drive }}/staging/operators-bundle.tar.xz"
dir_bundle_staging: "{{ root_drive }}/staging"
bundle: 'true'
unpack_bundle: 'true'

#####################################################################################################
# End of user configurable variables
#####################################################################################################
